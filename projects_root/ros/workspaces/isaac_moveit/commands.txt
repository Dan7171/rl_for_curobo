
___________________________________________________________

terminal 1:
___________________________________________________________
# run isaacsim with action graph, loading urdf (or usd, but keep urdf for now)
# TESTED? V

# RUN:
su developer
bash
source /opt/ros/humble/setup.bash
developer@de:/workspace/rl_for_curobo/projects_root/ros/workspaces/isaac_moveit$ $omni_python  src/moveit2_isaac_sim_integration/scripts/start_sim.py --robot default_robot 
___________________________________________________________

terminal 2:
___________________________________________________________
# first make moveit configs automatically from urdf

# TESTED? X

# RUN:
su developer
bash
source /opt/ros/humble/setup.bash
developer@de:/workspace/rl_for_curobo/projects_root/ros/workspaces/isaac_moveit$ $omni_python ./src/moveit2_isaac_sim_integration/scripts/moveit_config_autogen.py /workspace/rl_for_curobo/projects_root/ros/workspaces/isaac_moveit/src/moveit2_isaac_sim_integration/config/example_urdf_for_testing/franka_description/panda.urdf

# You'll get:
################################
developer@de:/workspace/rl_for_curobo/projects
_root/ros/workspaces/isaac_moveit$ $omni_python ./src/moveit2_isaac_sim_integration/scripts/mo
veit_config_autogen.py /workspace/rl_for_curobo/projects_root/ros/workspaces/isaac_moveit/src/moveit2_isaac_sim_integration/config/example_urdf_for_testing/franka_description/panda.urdf
Unknown tag "material" in /robot[@name='panda']/link[@name='panda_link0']/collision[1]
Unknown tag "material" in /robot[@name='panda']/link[@name='panda_link1']/collision[1]
Unknown tag "material" in /robot[@name='panda']/link[@name='panda_link2']/collision[1]
Unknown tag "material" in /robot[@name='panda']/link[@name='panda_link4']/collision[1]
Unknown tag "material" in /robot[@name='panda']/link[@name='panda_link5']/collision[1]
Unknown tag "material" in /robot[@name='panda']/link[@name='panda_link6']/collision[1]
Unknown tag "material" in /robot[@name='panda']/link[@name='panda_link7']/collision[1]
Unknown tag "material" in /robot[@name='panda']/link[@name='panda_hand']/collision[1]
Unknown tag "material" in /robot[@name='panda']/link[@name='panda_leftfinger']/collision[1]
Unknown tag "contact" in /robot[@name='panda']/link[@name='panda_leftfinger']
Unknown tag "material" in /robot[@name='panda']/link[@name='panda_rightfinger']/collision[1]
Unknown tag "contact" in /robot[@name='panda']/link[@name='panda_rightfinger']
Generated config in \
 /workspace/rl_for_curobo/projects_root/ros/workspaces/isaac_moveit/src/moveit2_isaac_sim_integration/config/moveit_configs_for_testing/auto_gen/ 
 \panda_moveit_config_1752166865.8188095

#################################

# Then start moveit2 nodes:
# TESTED: X
# Take the path above of the generated config: /.../panda_moveit_config_1752166865.8188095
# Then run the move_group node with that cfg as input:
developer@de:/workspace/rl_for_curobo/projects_root/ros/workspaces/isaac_moveit$ ros2 run moveit_ros_move_group move_group --ros-args --params-file /workspace/rl_for_curobo/projects_root/ros/workspaces/isaac_moveit/src/moveit2_isaac_sim_integration/config/moveit_configs_for_testing/auto_gen/panda_moveit_config_1752166865.8188095/move_group_params.yaml

___________________________________________________________

terminal 3:
___________________________________________________________

# Verify terminal 2 run works, run:
root@de:/workspace/rl_for_curobo# ros2 service list | grep plan


# SEE:
#################
/apply_planning_scene
/get_planner_params
/get_planning_scene
/plan_kinematic_path
/query_planner_interface
/set_planner_params
root@de:/workspace/rl_for_curobo# 
##################
# The /plan_kinematic_path service is available, which means move_group is running properly. Now you can test the complete pipeline.

# (Still in terminal 3)
# RUN:
source /opt/ros/humble/setup.bash
cd /workspace/rl_for_curobo/projects_root/ros/workspaces/isaac_moveit/src/moveit2_isaac_sim_integration/scripts
python3 moveit2_service_planner.py